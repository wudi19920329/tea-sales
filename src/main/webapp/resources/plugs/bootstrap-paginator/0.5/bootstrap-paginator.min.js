(function(e){"use strict";var t=function(e,t){this.init(e,t)},n=null;t.prototype={init:function(t,n){this.$element=e(t);var r=n&&n.bootstrapMajorVersion?n.bootstrapMajorVersion:e.fn.bootstrapPaginator.defaults.bootstrapMajorVersion,i=this.$element.attr("id");if(r===2&&!this.$element.is("div"))throw"in Bootstrap version 2 the pagination must be a div element. Or if you are using Bootstrap pagination 3. Please specify it in bootstrapMajorVersion in the option";if(r>2&&!this.$element.is("ul"))throw"in Bootstrap version 3 the pagination root item must be an ul element.";this.currentPage=1,this.lastPage=1,this.setOptions(n),this.initialized=!0},setOptions:function(t){this.options=e.extend({},this.options||e.fn.bootstrapPaginator.defaults,t),this.totalPages=parseInt(this.options.totalPages,10),this.numberOfPages=parseInt(this.options.numberOfPages,10),t&&typeof t.currentPage!="undefined"&&this.setCurrentPage(t.currentPage),this.listen(),this.render(),!this.initialized&&this.lastPage!==this.currentPage&&this.$element.trigger("page-changed",[this.lastPage,this.currentPage])},listen:function(){this.$element.off("page-clicked"),this.$element.off("page-changed"),typeof this.options.onPageClicked=="function"&&this.$element.bind("page-clicked",this.options.onPageClicked),typeof this.options.onPageChanged=="function"&&this.$element.on("page-changed",this.options.onPageChanged),this.$element.bind("page-clicked",this.onPageClicked)},destroy:function(){this.$element.off("page-clicked"),this.$element.off("page-changed"),this.$element.removeData("bootstrapPaginator"),this.$element.empty()},show:function(e){this.setCurrentPage(e),this.render(),this.lastPage!==this.currentPage&&this.$element.trigger("page-changed",[this.lastPage,this.currentPage])},showNext:function(){var e=this.getPages();e.next&&this.show(e.next)},showPrevious:function(){var e=this.getPages();e.prev&&this.show(e.prev)},showFirst:function(){var e=this.getPages();e.first&&this.show(e.first)},showLast:function(){var e=this.getPages();e.last&&this.show(e.last)},onPageItemClicked:function(e){var t=e.data.type,n=e.data.page;this.$element.trigger("page-clicked",[e,t,n])},onPageClicked:function(t,n,r,i){var s=e(t.currentTarget);switch(r){case"first":s.bootstrapPaginator("showFirst");break;case"prev":s.bootstrapPaginator("showPrevious");break;case"next":s.bootstrapPaginator("showNext");break;case"last":s.bootstrapPaginator("showLast");break;case"page":s.bootstrapPaginator("show",i)}},render:function(){var t=this.getValueFromOption(this.options.containerClass,this.$element),n=this.options.size||"normal",r=this.options.alignment||"left",i=this.getPages(),s=this.options.bootstrapMajorVersion===2?e("<ul></ul>"):this.$element,o=this.options.bootstrapMajorVersion===2?this.getValueFromOption(this.options.listContainerClass,s):null,u=null,a=null,f=null,l=null,c=null,h=0;this.$element.prop("class",""),this.$element.addClass("pagination");switch(n.toLowerCase()){case"large":case"small":case"mini":this.$element.addClass(e.fn.bootstrapPaginator.sizeArray[this.options.bootstrapMajorVersion][n.toLowerCase()]);break;default:}if(this.options.bootstrapMajorVersion===2)switch(r.toLowerCase()){case"center":this.$element.addClass("pagination-centered");break;case"right":this.$element.addClass("pagination-right");break;default:}this.$element.addClass(t),this.$element.empty(),this.options.bootstrapMajorVersion===2&&(this.$element.append(s),s.addClass(o)),this.pageRef=[],i.first&&(u=this.buildPageItem("first",i.first),u&&s.append(u)),i.prev&&(a=this.buildPageItem("prev",i.prev),a&&s.append(a));for(h=0;h<i.length;h+=1)c=this.buildPageItem("page",i[h]),c&&s.append(c);i.next&&(f=this.buildPageItem("next",i.next),f&&s.append(f)),i.last&&(l=this.buildPageItem("last",i.last),l&&s.append(l))},buildPageItem:function(t,n){var r=e("<li></li>"),i=e("<a></a>"),s="",o="",u=this.options.itemContainerClass(t,n,this.currentPage),a=this.getValueFromOption(this.options.itemContentClass,t,n,this.currentPage),f=null;switch(t){case"first":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage))return;s=this.options.itemTexts(t,n,this.currentPage),o=this.options.tooltipTitles(t,n,this.currentPage);break;case"last":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage))return;s=this.options.itemTexts(t,n,this.currentPage),o=this.options.tooltipTitles(t,n,this.currentPage);break;case"prev":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage))return;s=this.options.itemTexts(t,n,this.currentPage),o=this.options.tooltipTitles(t,n,this.currentPage);break;case"next":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage))return;s=this.options.itemTexts(t,n,this.currentPage),o=this.options.tooltipTitles(t,n,this.currentPage);break;case"page":if(!this.getValueFromOption(this.options.shouldShowPage,t,n,this.currentPage))return;s=this.options.itemTexts(t,n,this.currentPage),o=this.options.tooltipTitles(t,n,this.currentPage)}return r.addClass(u).append(i),i.addClass(a).html(s).on("click",null,{type:t,page:n},e.proxy(this.onPageItemClicked,this)),this.options.pageUrl&&i.attr("href",this.getValueFromOption(this.options.pageUrl,t,n,this.currentPage)),this.options.useBootstrapTooltip?(f=e.extend({},this.options.bootstrapTooltipOptions,{title:o}),i.tooltip(f)):i.attr("title",o),r},setCurrentPage:function(e){if(e>this.totalPages||e<1)throw"Page out of range";this.lastPage=this.currentPage,this.currentPage=parseInt(e,10)},getPages:function(){var e=this.totalPages,t=this.currentPage%this.numberOfPages===0?(parseInt(this.currentPage/this.numberOfPages,10)-1)*this.numberOfPages+1:parseInt(this.currentPage/this.numberOfPages,10)*this.numberOfPages+1,n=[],r=0,i=0;t=t<1?1:t;for(r=t,i=0;i<this.numberOfPages&&r<=e;r+=1,i+=1)n.push(r);return n.first=1,this.currentPage>1?n.prev=this.currentPage-1:n.prev=1,this.currentPage<e?n.next=this.currentPage+1:n.next=e,n.last=e,n.current=this.currentPage,n.total=e,n.numberOfPages=this.options.numberOfPages,n},getValueFromOption:function(e){var t=null,n=Array.prototype.slice.call(arguments,1);return typeof e=="function"?t=e.apply(this,n):t=e,t}},n=e.fn.bootstrapPaginator,e.fn.bootstrapPaginator=function(n){var r=arguments,i=null;return e(this).each(function(s,o){var u=e(o),a=u.data("bootstrapPaginator"),f=typeof n!="object"?null:n;if(!a){a=new t(this,f),u=e(a.$element),u.data("bootstrapPaginator",a);return}if(typeof n=="string"){if(!a[n])throw"Method "+n+" does not exist";i=a[n].apply(a,Array.prototype.slice.call(r,1))}else i=a.setOptions(n)}),i},e.fn.bootstrapPaginator.sizeArray={2:{large:"pagination-large",small:"pagination-small",mini:"pagination-mini"},3:{large:"pagination-lg",small:"pagination-sm",mini:""}},e.fn.bootstrapPaginator.defaults={containerClass:"",size:"normal",alignment:"left",bootstrapMajorVersion:3,listContainerClass:"",itemContainerClass:function(e,t,n){return t===n?"active":"pointer-cursor"},itemContentClass:function(e,t,n){return""},currentPage:1,numberOfPages:7,totalPages:1,pageUrl:function(e,t,n){return null},onPageClicked:null,onPageChanged:null,useBootstrapTooltip:!1,shouldShowPage:function(e,t,n){var r=!0;switch(e){case"first":r=n!==1;break;case"prev":r=n!==1;break;case"next":r=n!==this.totalPages;break;case"last":r=n!==this.totalPages;break;case"page":r=!0}return r},itemTexts:function(e,t,n){switch(e){case"first":return"&lt;&lt;";case"prev":return"&lt;";case"next":return"&gt;";case"last":return"&gt;&gt;";case"page":return t}},tooltipTitles:function(e,t,n){switch(e){case"first":return"首页";case"prev":return"上一页";case"next":return"下一页";case"last":return"末页";case"page":return t===n?"当前第 "+t+" 页":"转到第 "+t+" 页"}},bootstrapTooltipOptions:{animation:!0,html:!0,placement:"top",selector:!1,title:"",container:!1}},e.fn.bootstrapPaginator.Constructor=t})(window.jQuery)